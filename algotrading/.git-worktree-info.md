# Git Worktree Setup

This repository uses **Git worktrees** with a bare repository structure for managing multiple projects.

## Structure

```
Repository/
├── .bare/          # Bare Git repository (all Git data)
├── agents/         # Worktree → agents branch
├── algotrading/    # Worktree → algotrading branch
├── erp/            # Worktree → erp branch
├── github/         # Worktree → github branch
├── n8n/            # Worktree → n8n branch
└── notion/         # Worktree → notion branch
```

## How It Works

- **`.bare/`** contains the Git database (branches, commits, objects)
- Each project directory is a **worktree** tracking its own branch
- All worktrees share the same Git history but can work independently

## Common Commands

### Working with worktrees

```bash
# List all worktrees
git --git-dir=.bare worktree list

# View branches
git --git-dir=.bare branch -a

# Check status of current worktree
cd agents/
git status

# Commit in a worktree
cd agents/
git add .
git commit -m "Your message"
git push origin agents
```

### Switching between projects

Simply `cd` into the project directory:
```bash
cd agents/        # Work on agents
cd ../algotrading/  # Switch to algotrading
```

### Merging changes between branches

```bash
# Bring changes from one project to another
cd erp/
git merge agents  # Merge agents branch into erp
```

### Creating a new worktree/project

```bash
# Create new branch
git --git-dir=.bare branch new-project main

# Add worktree
git --git-dir=.bare worktree add new-project new-project
```

### Removing a worktree

```bash
# Remove worktree
git --git-dir=.bare worktree remove agents

# Delete branch (if needed)
git --git-dir=.bare branch -D agents
```

## Git Aliases (Recommended)

Add these to your `~/.gitconfig` for easier management:

```ini
[alias]
    wt = "!git --git-dir=.bare"
    wtlist = "!git --git-dir=.bare worktree list"
    wtadd = "!git --git-dir=.bare worktree add"
    wtrm = "!git --git-dir=.bare worktree remove"
```

Then use:
```bash
git wtlist              # List worktrees
git wtadd new-proj new-proj  # Add worktree
```

## Setting Up Remote

```bash
# Add remote repository
git --git-dir=.bare remote add origin <your-repo-url>

# Push all branches
git --git-dir=.bare push -u origin --all
```

## Benefits

✅ Work on multiple projects simultaneously without branch switching
✅ Each project feels independent but shares Git history
✅ Easy to merge/cherry-pick between projects
✅ Single remote for all projects
✅ Clean directory structure
